<svg width="700" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 18px sans-serif; fill: #333; }
      .section-title { font: bold 14px sans-serif; fill: #555; }
      .component { font: 11px sans-serif; fill: #333; }
      .game-layer { fill: #e1d5e7; stroke: #9673a6; stroke-width: 2; }
      .scene-layer { fill: #dae8fc; stroke: #6c8ebf; stroke-width: 2; }
      .render-layer { fill: #fff2cc; stroke: #d6b656; stroke-width: 2; }
      .vulkan-layer { fill: #f8cecc; stroke: #b85450; stroke-width: 2; }
      .gpu-layer { fill: #f0f0f0; stroke: #666666; stroke-width: 2; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .flow-arrow { stroke: #2196f3; stroke-width: 3; fill: none; marker-end: url(#arrowhead-blue); }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#666" />
    </marker>
    <marker id="arrowhead-blue" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#2196f3" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="350" y="30" text-anchor="middle" class="title">Data Flow Architecture</text>
  
  <!-- Game Logic Layer -->
  <rect x="300" y="60" width="120" height="40" rx="5" class="game-layer"/>
  <text x="360" y="85" text-anchor="middle" class="section-title">Game Logic</text>
  
  <!-- Scene Management Layer -->
  <rect x="300" y="130" width="120" height="40" rx="5" class="scene-layer"/>
  <text x="360" y="155" text-anchor="middle" class="section-title">Scene Management</text>
  
  <!-- Scene Components -->
  <rect x="100" y="190" width="70" height="35" rx="3" class="scene-layer"/>
  <text x="135" y="205" text-anchor="middle" class="component">Camera</text>
  <text x="135" y="218" text-anchor="middle" class="component">System</text>
  
  <rect x="190" y="190" width="70" height="35" rx="3" class="scene-layer"/>
  <text x="225" y="205" text-anchor="middle" class="component">Transform</text>
  <text x="225" y="218" text-anchor="middle" class="component">System</text>
  
  <rect x="430" y="190" width="70" height="35" rx="3" class="scene-layer"/>
  <text x="465" y="205" text-anchor="middle" class="component">Lighting</text>
  <text x="465" y="218" text-anchor="middle" class="component">System</text>
  
  <rect x="520" y="190" width="70" height="35" rx="3" class="scene-layer"/>
  <text x="555" y="205" text-anchor="middle" class="component">Object</text>
  <text x="555" y="218" text-anchor="middle" class="component">Manager</text>
  
  <!-- High-Level Renderer -->
  <rect x="300" y="250" width="120" height="40" rx="5" class="render-layer"/>
  <text x="360" y="275" text-anchor="middle" class="section-title">High-Level Renderer</text>
  
  <!-- Render Pipeline Components -->
  <rect x="150" y="310" width="70" height="30" rx="3" class="render-layer"/>
  <text x="185" y="328" text-anchor="middle" class="component">Render Queue</text>
  
  <rect x="240" y="310" width="70" height="30" rx="3" class="render-layer"/>
  <text x="275" y="328" text-anchor="middle" class="component">Command Recording</text>
  
  <rect x="330" y="310" width="70" height="30" rx="3" class="render-layer"/>
  <text x="365" y="328" text-anchor="middle" class="component">Render Passes</text>
  
  <rect x="420" y="310" width="70" height="30" rx="3" class="render-layer"/>
  <text x="455" y="328" text-anchor="middle" class="component">Draw Call Batching</text>
  
  <!-- Vulkan Context -->
  <rect x="300" y="370" width="120" height="40" rx="5" class="vulkan-layer"/>
  <text x="360" y="395" text-anchor="middle" class="section-title">Vulkan Context</text>
  
  <!-- Resource Managers -->
  <rect x="120" y="430" width="70" height="30" rx="3" class="vulkan-layer"/>
  <text x="155" y="448" text-anchor="middle" class="component">Buffer Manager</text>
  
  <rect x="210" y="430" width="70" height="30" rx="3" class="vulkan-layer"/>
  <text x="245" y="448" text-anchor="middle" class="component">Image Manager</text>
  
  <rect x="420" y="430" width="70" height="30" rx="3" class="vulkan-layer"/>
  <text x="455" y="448" text-anchor="middle" class="component">Pipeline Manager</text>
  
  <rect x="510" y="430" width="70" height="30" rx="3" class="vulkan-layer"/>
  <text x="545" y="448" text-anchor="middle" class="component">Shader Manager</text>
  
  <!-- GPU Hardware -->
  <rect x="300" y="490" width="120" height="40" rx="5" class="gpu-layer"/>
  <text x="360" y="515" text-anchor="middle" class="section-title">GPU Hardware</text>
  
  <!-- Main data flow arrows -->
  <line x1="360" y1="100" x2="360" y2="130" class="flow-arrow"/>
  <line x1="360" y1="170" x2="360" y2="250" class="flow-arrow"/>
  <line x1="360" y1="290" x2="360" y2="370" class="flow-arrow"/>
  <line x1="360" y1="410" x2="360" y2="490" class="flow-arrow"/>
  
  <!-- Component connections -->
  <line x1="360" y1="170" x2="135" y2="190" class="arrow"/>
  <line x1="360" y1="170" x2="225" y2="190" class="arrow"/>
  <line x1="360" y1="170" x2="465" y2="190" class="arrow"/>
  <line x1="360" y1="170" x2="555" y2="190" class="arrow"/>
  
  <!-- Renderer to pipeline components -->
  <line x1="360" y1="290" x2="185" y2="310" class="arrow"/>
  <line x1="360" y1="290" x2="275" y2="310" class="arrow"/>
  <line x1="360" y1="290" x2="365" y2="310" class="arrow"/>
  <line x1="360" y1="290" x2="455" y2="310" class="arrow"/>
  
  <!-- Vulkan to resource managers -->
  <line x1="360" y1="410" x2="155" y2="430" class="arrow"/>
  <line x1="360" y1="410" x2="245" y2="430" class="arrow"/>
  <line x1="360" y1="410" x2="455" y2="430" class="arrow"/>
  <line x1="360" y1="410" x2="545" y2="430" class="arrow"/>
  
  <!-- Flow labels -->
  <text x="380" y="120" class="component">Scene Updates</text>
  <text x="380" y="215" class="component">Render Commands</text>
  <text x="380" y="335" class="component">Vulkan API Calls</text>
  <text x="380" y="455" class="component">GPU Commands</text>
  
  <!-- Data Flow Principles -->
  <rect x="20" y="520" width="200" height="70" rx="5" fill="#f5f5f5" stroke="#ccc" stroke-width="1"/>
  <text x="30" y="540" class="section-title">Data Flow Principles:</text>
  <text x="30" y="555" class="component">• Unidirectional Flow</text>
  <text x="30" y="567" class="component">• Layer Abstraction</text>
  <text x="30" y="579" class="component">• Error Propagation</text>
</svg>
