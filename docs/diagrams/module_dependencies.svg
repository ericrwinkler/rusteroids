<svg width="600" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 18px sans-serif; fill: #333; }
      .layer-title { font: bold 12px sans-serif; fill: #555; }
      .component { font: 10px sans-serif; fill: #333; }
      .level0 { fill: #f0f0f0; stroke: #666666; stroke-width: 1; }
      .level1 { fill: #e6f3ff; stroke: #4d9fff; stroke-width: 1; }
      .level2 { fill: #f8cecc; stroke: #b85450; stroke-width: 1; }
      .level3 { fill: #fff2cc; stroke: #d6b656; stroke-width: 1; }
      .level4 { fill: #d5e8d4; stroke: #82b366; stroke-width: 1; }
      .level5 { fill: #e1d5e7; stroke: #9673a6; stroke-width: 1; }
      .level6 { fill: #fce5cd; stroke: #ff9900; stroke-width: 1; }
      .arrow { stroke: #666; stroke-width: 1; fill: none; marker-end: url(#arrowhead); }
      .cross-arrow { stroke: #666; stroke-width: 1; fill: none; stroke-dasharray: 3,3; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#666" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" class="title">Module Dependencies</text>
  
  <!-- Layer Labels -->
  <text x="20" y="85" class="layer-title">Core/Utils</text>
  <text x="20" y="135" class="layer-title">Platform</text>
  <text x="20" y="195" class="layer-title">Vulkan</text>
  <text x="20" y="255" class="layer-title">Rendering</text>
  <text x="20" y="305" class="layer-title">ECS</text>
  <text x="20" y="355" class="layer-title">Game Logic</text>
  <text x="20" y="405" class="layer-title">Application</text>
  
  <!-- Level 0: Core/Utilities -->
  <rect x="80" y="70" width="60" height="30" rx="3" class="level0"/>
  <text x="110" y="88" text-anchor="middle" class="component">util</text>
  
  <rect x="160" y="70" width="60" height="30" rx="3" class="level0"/>
  <text x="190" y="88" text-anchor="middle" class="component">config</text>
  
  <rect x="240" y="70" width="60" height="30" rx="3" class="level0"/>
  <text x="270" y="88" text-anchor="middle" class="component">assets</text>
  
  <rect x="320" y="70" width="60" height="30" rx="3" class="level0"/>
  <text x="350" y="88" text-anchor="middle" class="component">save</text>
  
  <rect x="400" y="70" width="60" height="30" rx="3" class="level0"/>
  <text x="430" y="88" text-anchor="middle" class="component">audio</text>
  
  <!-- Level 1: Platform -->
  <rect x="80" y="120" width="60" height="30" rx="3" class="level1"/>
  <text x="110" y="138" text-anchor="middle" class="component">input</text>
  
  <rect x="160" y="120" width="80" height="30" rx="3" class="level1"/>
  <text x="200" y="138" text-anchor="middle" class="component">glfw_window</text>
  
  <!-- Level 2: Vulkan -->
  <rect x="100" y="170" width="80" height="40" rx="3" class="level2"/>
  <text x="140" y="185" text-anchor="middle" class="component">vulkan::</text>
  <text x="140" y="200" text-anchor="middle" class="component">resources</text>
  
  <rect x="200" y="170" width="80" height="40" rx="3" class="level2"/>
  <text x="240" y="185" text-anchor="middle" class="component">vulkan::</text>
  <text x="240" y="200" text-anchor="middle" class="component">pipeline</text>
  
  <rect x="300" y="170" width="80" height="40" rx="3" class="level2"/>
  <text x="340" y="185" text-anchor="middle" class="component">vulkan::</text>
  <text x="340" y="200" text-anchor="middle" class="component">context</text>
  
  <!-- Level 3: Rendering -->
  <rect x="120" y="240" width="60" height="30" rx="3" class="level3"/>
  <text x="150" y="258" text-anchor="middle" class="component">render</text>
  
  <rect x="200" y="240" width="70" height="30" rx="3" class="level3"/>
  <text x="235" y="258" text-anchor="middle" class="component">render::scene</text>
  
  <rect x="290" y="240" width="80" height="30" rx="3" class="level3"/>
  <text x="330" y="258" text-anchor="middle" class="component">render::lighting</text>
  
  <!-- Level 4: ECS -->
  <rect x="200" y="290" width="60" height="30" rx="3" class="level4"/>
  <text x="230" y="308" text-anchor="middle" class="component">ecs</text>
  
  <!-- Level 5: Game Logic -->
  <rect x="140" y="340" width="60" height="30" rx="3" class="level5"/>
  <text x="170" y="358" text-anchor="middle" class="component">game</text>
  
  <rect x="260" y="340" width="60" height="30" rx="3" class="level5"/>
  <text x="290" y="358" text-anchor="middle" class="component">menu</text>
  
  <!-- Level 6: Application -->
  <rect x="180" y="390" width="80" height="30" rx="3" class="level6"/>
  <text x="220" y="408" text-anchor="middle" class="component">application</text>
  
  <!-- Dependency arrows (simplified) -->
  <!-- Level 0 to Level 1 -->
  <line x1="110" y1="100" x2="110" y2="120" class="arrow"/>
  <line x1="190" y1="100" x2="200" y2="120" class="arrow"/>
  
  <!-- Level 1 to Level 2 -->
  <line x1="200" y1="150" x2="140" y2="170" class="arrow"/>
  <line x1="200" y1="150" x2="240" y2="170" class="arrow"/>
  <line x1="200" y1="150" x2="340" y2="170" class="arrow"/>
  
  <!-- Level 0 to Level 2 (assets) -->
  <line x1="270" y1="100" x2="140" y2="170" class="arrow"/>
  
  <!-- Level 2 to Level 3 -->
  <line x1="140" y1="210" x2="150" y2="240" class="arrow"/>
  <line x1="240" y1="210" x2="235" y2="240" class="arrow"/>
  <line x1="340" y1="210" x2="330" y2="240" class="arrow"/>
  
  <!-- Level 3 to Level 4 -->
  <line x1="235" y1="270" x2="230" y2="290" class="arrow"/>
  
  <!-- Level 4 to Level 5 -->
  <line x1="230" y1="320" x2="170" y2="340" class="arrow"/>
  <line x1="230" y1="320" x2="290" y2="340" class="arrow"/>
  
  <!-- Level 5 to Level 6 -->
  <line x1="170" y1="370" x2="220" y2="390" class="arrow"/>
  <line x1="290" y1="370" x2="220" y2="390" class="arrow"/>
  
  <!-- Cross-dependencies (dashed) -->
  <line x1="110" y1="150" x2="230" y2="290" class="cross-arrow"/>
  <line x1="430" y1="100" x2="170" y2="340" class="cross-arrow"/>
  <line x1="350" y1="100" x2="290" y2="340" class="cross-arrow"/>
  
  <!-- Rules -->
  <rect x="80" y="450" width="440" height="120" rx="5" fill="#f5f5f5" stroke="#ccc" stroke-width="1"/>
  <text x="90" y="470" class="layer-title">Dependency Rules:</text>
  <text x="100" y="485" class="component">• Higher levels depend on lower levels</text>
  <text x="100" y="500" class="component">• No circular dependencies allowed</text>
  <text x="100" y="515" class="component">• Cross-dependencies only when necessary (dashed lines)</text>
  <text x="100" y="530" class="component">• Interface-based communication between layers</text>
  <text x="100" y="545" class="component">• Minimal coupling between modules</text>
  <text x="100" y="560" class="component">• Each layer provides clear abstraction to layers above</text>
</svg>
